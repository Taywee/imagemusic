<html>
  <head>
    <meta content="text/html; charset=utf-8" http-equiv=
                   "Content-Type">
    <meta name="robots" content="index,follow">
    <title>imagemusic - How to use</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Image and music fusing program, just for fun">
    <link href="main.css" rel="stylesheet">
  </head>
  <body>
    <nav>
      <ul>
        <li><a href="/">Main</a></li>
        <li><a href="/howtouse.html">How to use</a></li>
        <li><a href="/howdoesitwork.html">How Does It Work?</a></li>
        <li><a href="/copyright.html">Copyright</a></li>
      </ul>
    </nav>
<h1>How do I use this?</h1>
<h2>How do I play a music image I have found?</h2>
<p>Sometimes you can drag and drop a music image directly into the top image field,
but this won't always work.  Imgur, for instance, allows this, but many sites do
not.  This is something I can't work around, as it's the source site that allows
or denies this.</p>
<p>If you can't drag and drop, you'll have to download the image, and then click
"Load Music Image..." to load the image from your device.  Then you can click
"Play Music Image", wait a few seconds, and start hearing the music.</p>
<h2>How do I make a music image?</h2>
<p>To get quickly started, scroll to the very bottom, choose a sample image and
sample song (I recommend Starry Night and Beethoven's Moonlight Sonata (Movement
III)), click the "Bake Song Into Image" button, wait for the image to appear at
the top, and then click "Play Music Image".  It'll chug for a few seconds, and
then start playing the music from the image.</p>
<p>You can make your own by getting your own image and loading it with "Load Input
Image..." or dragging and dropping it over the bottom image (the same caveats
apply here about cross-site drag and drop as above).  You can convert musicxml
music to the TOML format that imagemusic uses, but it only supports a limited
format, and specifically needs partwise musicxml, not timewise.  You can use
<a href="https://musescore.org/">musescore</a> to generate musicxml that should work from
midis.  You can find midis by going to
<a href="https://musescore.com/sheetmusic">musescore</a>, or for video game music to
<a href="https://vgmusic.com/">VGMusic</a>. If you find a site that lets you either get
musicxml or midi, you should (counter-intuitively) probably go for the midi,
because it's a simpler format and musicxml is more likely to have constructs
that imagemusic won't convert well, like grace notes.  Also make sure to remove
all percussion, as that isn't yet supported.</p>
<p>When your music is converted, you can review the TOML and maybe change some
instruments and stuff.  The conversion is very simple and will not try to take
anything like volume or instruments into account, so you may want to tweak it
and try it multiple times to get the best results.  If you have trouble with
getting good results because one voice is too complex (like volume changes),
your best bet is to use musescore or some other music editor to separate them
into separate voices before importing them again.</p>
<p>Once you have an image in the bottom image and valid music TOML in the text box,
you can "Bake Song Into Image" to get your baked image, and "Play Music Image"
to test it out.</p>
<p>Once you have your baked music image, you can share it wherever you like, and
people can use your image to hear whatever song you baked into it.</p>
<h2>The Music format</h2>
<p>The music format is fairly self-descriptive.  A song is composed of
ticks_per_second and a list of voices.  Each voice has a [[voice]] section,
containing its volume, its instrument, its notes, and its envelope.</p>
<h3>Volume</h3>
<p>Volume is a number from 0 to 255 giving the volume of the voice.</p>
<h3>Instrument</h3>
<p>Instrument is either Sawtooth, Sine, Square, or Triangle.  More instruments and
percussion may come in the future.</p>
<h3>Notes</h3>
<p>A string of notes.  Each note is composed of a length (in ticks), the note name,
and the octave.  So a middle-C quarter note might be 2c4, if each tick is an
eighth note.  Rests are just a length and the letter r.</p>
<h3>Envelope</h3>
<p>The envelope is how an individual note's volume is modulated.  It is composed of
points.  Each point has a <em>stop</em> and an <em>amplitude</em>.  The stop is in hundredths
of seconds, and when positive, indicates a time length from the beginning of the
note, and when negative, indicates a time length from the end of the note.
Amplitude is a volume value from 0 to 255, similarly to the volume above.</p>
<p>When a note is being processed, the envelope is first put into terms of absolute
time, and the stops are taken from left to right.  Any stops before the
beginning of the note, after the end of the note, or out of order are removed.</p>
<p>You can use the envelope to get quite complex musical effects.</p>
<h1>I've found a bug!</h1>
<p>Please report it!  This repository has its home on
<a href="https://gitlab.com/Taywee/imagemusic">GitLab</a>, which is the preferred place to
report issues, but it is cloned on
<a href="https://github.com/Taywee/imagemusic">GitHub</a> and issues are being watched as
well.</p>
  </body>
</html>
